---
title: "Draft Research pt1"
author: "Tom Kain"
date: "February 20, 2019"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
source("R/yahoo_api.R")
library(tidyverse)
```

# Position Eligibility
```{r}
suppressWarnings(
  get_players(312) -> tst_results
)

col_nms <- tst_results %>%
  select(starts_with("eligible_positions")) %>%
  colnames()

tst_results %>%
  mutate(positions = paste(!!! syms(col_nms), sep = "," )) %>%
  mutate(positions = gsub('NA', '', positions)) %>%
  mutate(positions = gsub(',,', '', positions)) %>%
  select(-(starts_with("eligible_positions"))) %>%
  select(name.full, display_position, positions) -> tst_results

tst_results %>% saveRDS("data/tst_results")

View(tst_results)

```
         
##### To Do

1. Prevent the need to supressWarnings 
2. Some merge of display position and positions
3. Rename df to something useful for joining to other data sets
4. Figure out what columns to include that will be needed for joining to other data sets
5. Kill trailing comma in positions column